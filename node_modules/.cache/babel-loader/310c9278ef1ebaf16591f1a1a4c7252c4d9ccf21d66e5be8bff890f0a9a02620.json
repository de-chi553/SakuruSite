{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';// React Routerを使用\nimport{createUserWithEmailAndPassword}from'firebase/auth';import{auth,db}from'../firebase';// firebase.jsからauthとdbをインポート\nimport{collection,addDoc}from'firebase/firestore';// Firestore関連のメソッドをインポート\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Registration=()=>{const[registerEmail,setRegisterEmail]=useState('');const[registerPassword,setRegisterPassword]=useState('');const[username,setUsername]=useState('');const navigate=useNavigate();const handleSubmit=async()=>{try{const userCredential=await createUserWithEmailAndPassword(auth,registerEmail,registerPassword);const user=userCredential.user;// Firestoreにユーザーのデータを保存\nawait addUserData(user.uid,username);// 登録が成功した場合の処理\nnavigate('/post');}catch(error){console.error('Error registering user:',error.message);alert('正しく入力してください');}};// Firestoreにユーザーのデータを保存する関数\nconst addUserData=async(userId,username)=>{try{// 'User'コレクションにユーザーのデータを追加\nawait addDoc(collection(db,'User'),{UserID:userId,Username:username});}catch(error){console.error('Error adding user data:',error.message);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'10%'},children:/*#__PURE__*/_jsx(\"h2\",{children:\"\\u65B0\\u898F\\u767B\\u9332\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'1%'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:registerEmail,onChange:e=>setRegisterEmail(e.target.value),style:{borderWidth:1,borderRadius:5,width:'30%'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1%'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:registerPassword,onChange:e=>setRegisterPassword(e.target.value),style:{borderWidth:1,borderRadius:5,width:'30%'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1%'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u30E6\\u30FC\\u30B6\\u30FC\\u540D\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value),style:{borderWidth:1,borderRadius:5,width:'30%'}})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'2%',width:'15%'},children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,style:{borderWidth:1,borderRadius:10,backgroundColor:'#C1191A',color:'white'},children:\"\\u767B\\u9332\\u3059\\u308B\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u30FB\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u306F\\uFF16\\u6587\\u5B57\\u4EE5\\u4E0A\\u3067\\u8A2D\\u5B9A\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\\u3002\"})})]})]});};export default Registration;","map":{"version":3,"names":["React","useState","useNavigate","createUserWithEmailAndPassword","auth","db","collection","addDoc","jsx","_jsx","jsxs","_jsxs","Registration","registerEmail","setRegisterEmail","registerPassword","setRegisterPassword","username","setUsername","navigate","handleSubmit","userCredential","user","addUserData","uid","error","console","message","alert","userId","UserID","Username","children","style","textAlign","marginTop","type","value","onChange","e","target","borderWidth","borderRadius","width","onClick","backgroundColor","color"],"sources":["/Users/okataichi/Desktop/SakuruSite/jsx/src/components/Registration.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom'; // React Routerを使用\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport { auth, db } from '../firebase'; // firebase.jsからauthとdbをインポート\nimport { collection, addDoc } from 'firebase/firestore'; // Firestore関連のメソッドをインポート\n\nconst Registration = () => {\n  const [registerEmail, setRegisterEmail] = useState('');\n  const [registerPassword, setRegisterPassword] = useState('');\n  const [username, setUsername] = useState('');\n  const navigate = useNavigate();\n\n  const handleSubmit = async () => {\n    try {\n      const userCredential = await createUserWithEmailAndPassword(\n        auth,\n        registerEmail,\n        registerPassword\n      );\n      const user = userCredential.user;\n\n      // Firestoreにユーザーのデータを保存\n      await addUserData(user.uid, username);\n\n      // 登録が成功した場合の処理\n      navigate('/post');\n    } catch (error) {\n      console.error('Error registering user:', error.message);\n      alert('正しく入力してください');\n    }\n  };\n\n  // Firestoreにユーザーのデータを保存する関数\n  const addUserData = async (userId, username) => {\n    try {\n      // 'User'コレクションにユーザーのデータを追加\n      await addDoc(collection(db, 'User'), {\n        UserID: userId,\n        Username: username\n      });\n    } catch (error) {\n      console.error('Error adding user data:', error.message);\n    }\n  };\n\n  return (\n    <div>\n      <div style={{ textAlign: 'center', marginTop: '10%' }}>\n        <h2>新規登録</h2>\n      </div>\n      <div style={{ textAlign: 'center', marginTop: '1%' }}>\n        <div>\n          <label>メールアドレス</label>\n          <input\n            type=\"email\"\n            value={registerEmail}\n            onChange={(e) => setRegisterEmail(e.target.value)}\n            style={{ borderWidth: 1, borderRadius: 5, width: '30%' }}\n          />\n        </div>\n        <div style={{ marginTop: '1%' }}>\n          <label>パスワード</label>\n          <input\n            type=\"password\"\n            value={registerPassword}\n            onChange={(e) => setRegisterPassword(e.target.value)}\n            style={{ borderWidth: 1, borderRadius: 5, width: '30%' }}\n          />\n        </div>\n        <div style={{ marginTop: '1%' }}>\n          <label>ユーザー名</label>\n          <input\n            type=\"text\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            style={{ borderWidth: 1, borderRadius: 5, width: '30%' }}\n          />\n        </div>\n        <div style={{ marginTop: '2%', width: '15%' }}>\n          <button onClick={handleSubmit} style={{ borderWidth: 1, borderRadius: 10, backgroundColor: '#C1191A', color: 'white' }}>\n            登録する\n          </button>\n        </div>\n        <div>\n          <p>・パスワードは６文字以上で設定してください。</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Registration;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}